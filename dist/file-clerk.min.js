(()=>{var e={821:function(e,t,r){"use strict";r.d(t,{A:()=>s});var n=r(353),o=r.n(n),i=r(522),a=r.n(i),u=r(837),c=a()(o());c.i(u.A),c.push([e.id,"",""]);let s=c},837:function(e,t,r){"use strict";r.d(t,{A:()=>u});var n=r(353),o=r.n(n),i=r(522),a=r.n(i)()(o());a.push([e.id,`/*
  *** begin ascii art ***
  
   _    _____    ____  _______    ____  __    ___________
  | |  / /   |  / __ \\/  _/   |  / __ )/ /   / ____/ ___/
  | | / / /| | / /_/ // // /| | / __  / /   / __/  \\__ \\
  | |/ / ___ |/ _, _// // ___ |/ /_/ / /___/ /___ ___/ /
  |___/_/  |_/_/ |_/___/_/  |_/_____/_____/_____//____/
  
  *** end ascii art ***
  
  Most aesthethic options should live here for adjustment
*/


:root {
  --bg: #ffffff;
  --fg: #111111;
  --hi: #ff9900;
  --error-color: #ff0000;
  --warning-color: #ffa500;
  --confirm-color: #008000;
  --color-1: #440154;
  --color-2: #482878;
  --color-3: #3e4989;
  --color-4: #31688e;
  --color-5: #26828e;
  --color-6: #1f9e89;
  --color-7: #35b779;
  --color-8: #6ece58;
  --color-9: #8fd744;
  --color-10: #b8de29;
  --color-11: #d8e219;
  --color-12: #fde725;
}`,""]);let u=a},72:function(e){"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var o={},i=[],a=0;a<e.length;a++){var u=e[a],c=n.base?u[0]+n.base:u[0],s=o[c]||0,l="".concat(c," ").concat(s);o[c]=s+1;var f=r(l),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)t[f].references++,t[f].updater(d);else{var h=function(e,t){var r=t.domAPI(t);return r.update(e),function(t){t?(t.css!==e.css||t.media!==e.media||t.sourceMap!==e.sourceMap||t.supports!==e.supports||t.layer!==e.layer)&&r.update(e=t):r.remove()}}(d,n);n.byIndex=a,t.splice(a,0,{identifier:l,updater:h,references:1})}i.push(l)}return i}e.exports=function(e,o){var i=n(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var u=r(i[a]);t[u].references--}for(var c=n(e,o),s=0;s<i.length;s++){var l=r(i[s]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=c}}},659:function(e){"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},540:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:function(e,t,r){"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},825:function(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){var n,o,i;n="",r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {")),(o=void 0!==r.layer)&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}"),(i=r.sourceMap)&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)},remove:function(){var e;null===(e=t).parentNode||e.parentNode.removeChild(e)}}}},113:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},522:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r}).join("")},t.i=function(e,r,n,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var u=0;u<this.length;u++){var c=this[u][0];null!=c&&(a[c]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);n&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),r&&(l[2]&&(l[1]="@media ".concat(l[2]," {").concat(l[1],"}")),l[2]=r),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},353:function(e){"use strict";e.exports=function(e){return e[1]}},190:function(e,t,r){function n(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}!function(n){if("object"===o(t))e.exports=n();else if("function"==typeof define&&define.amd)define([],n);else("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:this).localforage=n()}(function(){return(function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){if(i)return i(a,!0);var c=Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var s=r[a]={exports:{}};t[a][0].call(s.exports,function(e){return o(t[a][1][e]||e)},s,s.exports,e,t,r,n)}return r[a].exports}for(var i=void 0,a=0;a<n.length;a++)o(n[a]);return o})({1:[function(e,t,n){(function(e){"use strict";var r,n,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(l),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),r=function(){u.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var c=new e.MessageChannel;c.port1.onmessage=l,r=function(){c.port2.postMessage(0)}}var s=[];function l(){n=!0;for(var e,t,r=s.length;r;){for(t=s,s=[],e=-1;++e<r;)t[e]();r=s.length}n=!1}t.exports=function(e){1!==s.push(e)||n||r()}}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";var i=e(1);function a(){}var u={},c=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function f(e){if("function"!=typeof e)throw TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==a&&v(this,e)}function d(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function h(e,t,r){i(function(){var n;try{n=t(r)}catch(t){return u.reject(e,t)}n===e?u.reject(e,TypeError("Cannot resolve promise with itself")):u.resolve(e,n)})}function p(e){var t=e&&e.then;if(e&&((void 0===e?"undefined":o(e))==="object"||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function v(e,t){var r=!1;function n(t){r||(r=!0,u.reject(e,t))}function o(t){r||(r=!0,u.resolve(e,t))}var i=y(function(){t(o,n)});"error"===i.status&&n(i.value)}function y(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}t.exports=f,f.prototype.catch=function(e){return this.then(null,e)},f.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===c)return this;var r=new this.constructor(a);return this.state!==l?h(r,this.state===s?e:t,this.outcome):this.queue.push(new d(r,e,t)),r},d.prototype.callFulfilled=function(e){u.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){u.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},u.resolve=function(e,t){var r=y(p,t);if("error"===r.status)return u.reject(e,r.value);var n=r.value;if(n)v(e,n);else{e.state=s,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},u.reject=function(e,t){e.state=c,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},f.resolve=function(e){return n(e,this)?e:u.resolve(new this(a),e)},f.reject=function(e){var t=new this(a);return u.reject(t,e)},f.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=Array(r),i=0,c=-1,s=new this(a);++c<r;)!function(e,a){t.resolve(e).then(function(e){o[a]=e,++i!==r||n||(n=!0,u.resolve(s,o))},function(e){n||(n=!0,u.reject(s,e))})}(e[c],c);return s},f.race=function(e){var t,r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,c=new this(a);++i<n;){t=e[i],r.resolve(t).then(function(e){o||(o=!0,u.resolve(c,e))},function(e){o||(o=!0,u.reject(c,e))})}return c}},{1:1}],3:[function(e,t,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";var i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},a=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function u(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function s(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function l(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function f(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function d(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",p=void 0,v={},y=Object.prototype.toString,b="readonly",m="readwrite";function g(e){var t=v[e.name],r={};r.promise=new c(function(e,t){r.resolve=e,r.reject=t}),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then(function(){return r.promise}):t.dbReady=r.promise}function w(e){var t=v[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function _(e,t){var r=v[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function S(e,t){return new c(function(r,n){if(v[e.name]=v[e.name]||j(),e.db)if(!t)return r(e.db);else g(e),e.db.close();var o=[e.name];t&&o.push(e.version);var i=a.open.apply(a,o);t&&(i.onupgradeneeded=function(t){var r=i.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore(h)}catch(r){if("ConstraintError"===r.name)console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw r}}),i.onerror=function(e){e.preventDefault(),n(i.error)},i.onsuccess=function(){var t=i.result;t.onversionchange=function(e){e.target.close()},r(t),w(e)}})}function E(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,o=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||r){if(r){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function O(e){return u([function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=0;o<t;o++)n[o]=e.charCodeAt(o);return r}(atob(e.data))],{type:e.type})}function k(e){return e&&e.__local_forage_encoded_blob}function x(e){var t=this,r=t._initReady().then(function(){var e=v[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return l(r,e,e),r}function I(e,t,r,n){void 0===n&&(n=1);try{var o=e.db.transaction(e.storeName,t);r(null,o)}catch(o){if(n>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return c.resolve().then(function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),S(e,!0)}).then(function(){return(function(e){g(e);for(var t=v[e.name],r=t.forages,n=0;n<r.length;n++){var o=r[n];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,S(e,!1).then(function(t){return(e.db=t,E(e))?S(e,!0):t}).then(function(n){e.db=t.db=n;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=n}).catch(function(t){throw _(e,t),t})})(e).then(function(){I(e,t,r,n-1)})}).catch(r);r(o)}}function j(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}var A={_driver:"asyncStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var n in e)r[n]=e[n];var o=v[r.name];o||(o=j(),v[r.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=x);var i=[];function a(){return c.resolve()}for(var u=0;u<o.forages.length;u++){var s=o.forages[u];s!==t&&i.push(s._initReady().catch(a))}var l=o.forages.slice(0);return c.all(i).then(function(){return r.db=o.db,S(r,!1)}).then(function(e){return(r.db=e,E(r,t._defaultConfig.version))?S(r,!0):e}).then(function(e){r.db=o.db=e,t._dbInfo=r;for(var n=0;n<l.length;n++){var i=l[n];i!==t&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}})},_support:function(){try{if(!a||!a.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var r=this,n=new c(function(t,n){r.ready().then(function(){I(r._dbInfo,b,function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).openCursor(),u=1;a.onsuccess=function(){var r=a.result;if(r){var n=r.value;k(n)&&(n=O(n));var o=e(n,r.key,u++);void 0!==o?t(o):r.continue()}else t()},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return s(n,t),n},getItem:function(e,t){var r=this;e=f(e);var n=new c(function(t,n){r.ready().then(function(){I(r._dbInfo,b,function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),k(e)&&(e=O(e)),t(e)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return s(n,t),n},setItem:function(e,t,r){var n=this;e=f(e);var o=new c(function(r,o){var i;n.ready().then(function(){return(i=n._dbInfo,"[object Blob]"===y.call(t))?(function(e){return"boolean"==typeof p?c.resolve(p):new c(function(t){var r=e.transaction(h,m),n=u([""]);r.objectStore(h).put(n,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/);t(navigator.userAgent.match(/Edge\//)||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1}).then(function(e){return p=e})})(i.db).then(function(e){return e?t:new c(function(e,r){var n=new FileReader;n.onerror=r,n.onloadend=function(r){e({__local_forage_encoded_blob:!0,data:btoa(r.target.result||""),type:t.type})},n.readAsBinaryString(t)})}):t}).then(function(t){I(n._dbInfo,m,function(i,a){if(i)return o(i);try{var u=a.objectStore(n._dbInfo.storeName);null===t&&(t=void 0);var c=u.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),r(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return s(o,r),o},removeItem:function(e,t){var r=this;e=f(e);var n=new c(function(t,n){r.ready().then(function(){I(r._dbInfo,m,function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){n(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return s(n,t),n},clear:function(e){var t=this,r=new c(function(e,r){t.ready().then(function(){I(t._dbInfo,m,function(n,o){if(n)return r(n);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return s(r,e),r},length:function(e){var t=this,r=new c(function(e,r){t.ready().then(function(){I(t._dbInfo,b,function(n,o){if(n)return r(n);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){r(i.error)}}catch(e){r(e)}})}).catch(r)});return s(r,e),r},key:function(e,t){var r=this,n=new c(function(t,n){e<0?t(null):r.ready().then(function(){I(r._dbInfo,b,function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName),u=!1,c=a.openKeyCursor();c.onsuccess=function(){var r=c.result;r?0===e||u?t(r.key):(u=!0,r.advance(e)):t(null)},c.onerror=function(){n(c.error)}}catch(e){n(e)}})}).catch(n)});return s(n,t),n},keys:function(e){var t=this,r=new c(function(e,r){t.ready().then(function(){I(t._dbInfo,b,function(n,o){if(n)return r(n);try{var i=o.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var t=i.result;t?(a.push(t.key),t.continue()):e(a)},i.onerror=function(){r(i.error)}}catch(e){r(e)}})}).catch(r)});return s(r,e),r},dropInstance:function(e,t){t=d.apply(this,arguments);var r,n=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName),e.name){var o=e.name===n.name&&this._dbInfo.db?c.resolve(this._dbInfo.db):S(e,!1).then(function(t){var r=v[e.name],n=r.forages;r.db=t;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=t;return t});r=e.storeName?o.then(function(t){if(t.objectStoreNames.contains(e.storeName)){var r=t.version+1;g(e);var n=v[e.name],o=n.forages;t.close();for(var i=0;i<o.length;i++){var u=o[i];u._dbInfo.db=null,u._dbInfo.version=r}return new c(function(t,n){var o=a.open(e.name,r);o.onerror=function(e){o.result.close(),n(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<o.length;t++){var r=o[t];r._dbInfo.db=e,w(r._dbInfo)}}).catch(function(t){throw(_(e,t)||c.resolve()).catch(function(){}),t})}}):o.then(function(t){g(e);var r=v[e.name],n=r.forages;t.close();for(var o=0;o<n.length;o++)n[o]._dbInfo.db=null;return new c(function(t,r){var n=a.deleteDatabase(e.name);n.onerror=function(){var e=n.result;e&&e.close(),r(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},n.onsuccess=function(){var e=n.result;e&&e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<n.length;t++)w(n[t]._dbInfo)}).catch(function(t){throw(_(e,t)||c.resolve()).catch(function(){}),t})})}else r=c.reject("Invalid arguments");return s(r,t),r}},F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=/^~~local_forage_type~([^~]+)~/,T="__lfsc__:",P=T.length,B="arbf",L="blob",U="si08",N="ui08",D="uic8",M="si16",C="si32",z="ur16",H="ui32",W="fl32",q="fl64",V=P+B.length,G=Object.prototype.toString;function K(e){var t,r,n,o,i,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var s=new ArrayBuffer(a),l=new Uint8Array(s);for(t=0;t<u;t+=4)r=F.indexOf(e[t]),n=F.indexOf(e[t+1]),o=F.indexOf(e[t+2]),i=F.indexOf(e[t+3]),l[c++]=r<<2|n>>4,l[c++]=(15&n)<<4|o>>2,l[c++]=(3&o)<<6|63&i;return s}function J(e){var t,r=new Uint8Array(e),n="";for(t=0;t<r.length;t+=3)n+=F[r[t]>>2],n+=F[(3&r[t])<<4|r[t+1]>>4],n+=F[(15&r[t+1])<<2|r[t+2]>>6],n+=F[63&r[t+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var Y={serialize:function(e,t){var r="";if(e&&(r=G.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===G.call(e.buffer))){var o,i=T;n(e,ArrayBuffer)?(o=e,i+=B):(o=e.buffer,"[object Int8Array]"===r?i+=U:"[object Uint8Array]"===r?i+=N:"[object Uint8ClampedArray]"===r?i+=D:"[object Int16Array]"===r?i+=M:"[object Uint16Array]"===r?i+=z:"[object Int32Array]"===r?i+=C:"[object Uint32Array]"===r?i+=H:"[object Float32Array]"===r?i+=W:"[object Float64Array]"===r?i+=q:t(Error("Failed to get type for BinaryArray"))),t(i+J(o))}else if("[object Blob]"===r){var a=new FileReader;a.onload=function(){t(T+L+("~~local_forage_type~"+e.type+"~")+J(this.result))},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(r){console.error("Couldn't convert value into a JSON string: ",e),t(null,r)}},deserialize:function(e){if(e.substring(0,P)!==T)return JSON.parse(e);var t,r=e.substring(V),n=e.substring(P,V);if(n===L&&R.test(r)){var o=r.match(R);t=o[1],r=r.substring(o[0].length)}var i=K(r);switch(n){case B:return i;case L:return u([i],{type:t});case U:return new Int8Array(i);case N:return new Uint8Array(i);case D:return new Uint8ClampedArray(i);case M:return new Int16Array(i);case z:return new Uint16Array(i);case C:return new Int32Array(i);case H:return new Uint32Array(i);case W:return new Float32Array(i);case q:return new Float64Array(i);default:throw Error("Unkown type: "+n)}},stringToBuffer:K,bufferToString:J};function X(e,t,r,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function Q(e,t,r,n,o,i){e.executeSql(r,n,o,function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,u){u.rows.length?i(e,a):X(e,t,function(){e.executeSql(r,n,o,i)},i)},i):i(e,a)},i)}function $(e,t,r,n){var o=this;e=f(e);var i=new c(function(i,a){o.ready().then(function(){void 0===t&&(t=null);var u=t,c=o._dbInfo;c.serializer.serialize(t,function(t,s){s?a(s):c.db.transaction(function(r){Q(r,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){i(u)},function(e,t){a(t)})},function(t){if(t.code===t.QUOTA_ERR){if(n>0)return void i($.apply(o,[e,u,r,n-1]));a(t)}})})}).catch(a)});return s(i,r),i}var Z={_driver:"webSQLStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var n in e)r[n]="string"!=typeof e[n]?e[n].toString():e[n];var o=new c(function(e,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return n(e)}r.db.transaction(function(o){X(o,r,function(){t._dbInfo=r,e()},function(e,t){n(t)})},n)});return r.serializer=Y,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var r=this,n=new c(function(t,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){Q(r,o,"SELECT * FROM "+o.storeName,[],function(r,n){for(var i=n.rows,a=i.length,u=0;u<a;u++){var c=i.item(u),s=c.value;if(s&&(s=o.serializer.deserialize(s)),void 0!==(s=e(s,c.key,u+1)))return void t(s)}t()},function(e,t){n(t)})})}).catch(n)});return s(n,t),n},getItem:function(e,t){var r=this;e=f(e);var n=new c(function(t,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){Q(r,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),t(n)},function(e,t){n(t)})})}).catch(n)});return s(n,t),n},setItem:function(e,t,r){return $.apply(this,[e,t,r,1])},removeItem:function(e,t){var r=this;e=f(e);var n=new c(function(t,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){Q(r,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){n(t)})})}).catch(n)});return s(n,t),n},clear:function(e){var t=this,r=new c(function(e,r){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){Q(t,n,"DELETE FROM "+n.storeName,[],function(){e()},function(e,t){r(t)})})}).catch(r)});return s(r,e),r},length:function(e){var t=this,r=new c(function(e,r){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){Q(t,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],function(t,r){e(r.rows.item(0).c)},function(e,t){r(t)})})}).catch(r)});return s(r,e),r},key:function(e,t){var r=this,n=new c(function(t,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){Q(r,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,r){t(r.rows.length?r.rows.item(0).key:null)},function(e,t){n(t)})})}).catch(n)});return s(n,t),n},keys:function(e){var t=this,r=new c(function(e,r){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){Q(t,n,"SELECT key FROM "+n.storeName,[],function(t,r){for(var n=[],o=0;o<r.rows.length;o++)n.push(r.rows.item(o).key);e(n)},function(e,t){r(t)})})}).catch(r)});return s(r,e),r},dropInstance:function(e,t){t=d.apply(this,arguments);var r,n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var o=this;return s(r=e.name?new c(function(t){var r;(r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName)?t({db:r,storeNames:[e.storeName]}):t(new c(function(e,t){r.transaction(function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(t,n){for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i).name);e({db:r,storeNames:o})},function(e,r){t(r)})},function(e){t(e)})}))}).then(function(e){return new c(function(t,r){e.db.transaction(function(n){for(var o=[],i=0,a=e.storeNames.length;i<a;i++)o.push(function(e){return new c(function(t,r){n.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){r(t)})})}(e.storeNames[i]));c.all(o).then(function(){t()}).catch(function(e){r(e)})},function(e){r(e)})})}):c.reject("Invalid arguments"),t),r}};function ee(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}var et={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return(t.keyPrefix=ee(e,this._defaultConfig),!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0)?(this._dbInfo=t,t.serializer=Y,c.resolve()):c.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var r=this,n=r.ready().then(function(){for(var t=r._dbInfo,n=t.keyPrefix,o=n.length,i=localStorage.length,a=1,u=0;u<i;u++){var c=localStorage.key(u);if(0===c.indexOf(n)){var s=localStorage.getItem(c);if(s&&(s=t.serializer.deserialize(s)),void 0!==(s=e(s,c.substring(o),a++)))return s}}});return s(n,t),n},getItem:function(e,t){var r=this;e=f(e);var n=r.ready().then(function(){var t=r._dbInfo,n=localStorage.getItem(t.keyPrefix+e);return n&&(n=t.serializer.deserialize(n)),n});return s(n,t),n},setItem:function(e,t,r){var n=this;e=f(e);var o=n.ready().then(function(){void 0===t&&(t=null);var r=t;return new c(function(o,i){var a=n._dbInfo;a.serializer.serialize(t,function(t,n){if(n)i(n);else try{localStorage.setItem(a.keyPrefix+e,t),o(r)}catch(e){("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&i(e),i(e)}})})});return s(o,r),o},removeItem:function(e,t){var r=this;e=f(e);var n=r.ready().then(function(){var t=r._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return s(n,t),n},clear:function(e){var t=this,r=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(e)&&localStorage.removeItem(n)}});return s(r,e),r},length:function(e){var t=this.keys().then(function(e){return e.length});return s(t,e),t},key:function(e,t){var r=this,n=r.ready().then(function(){var t,n=r._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t});return s(n,t),n},keys:function(e){var t=this,r=t.ready().then(function(){for(var e=t._dbInfo,r=localStorage.length,n=[],o=0;o<r;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&n.push(i.substring(e.keyPrefix.length))}return n});return s(r,e),r},dropInstance:function(e,t){if(t=d.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var r,n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var o=this;return s(r=e.name?new c(function(t){t(e.storeName?ee(e,o._defaultConfig):e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}}):c.reject("Invalid arguments"),t),r}},er=function(e,t){for(var r,n=e.length,o=0;o<n;){if((r=e[o])===t||"number"==typeof r&&"number"==typeof t&&isNaN(r)&&isNaN(t))return!0;o++}return!1},en=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},eo={},ei={},ea={INDEXEDDB:A,WEBSQL:Z,LOCALSTORAGE:et},eu=[ea.INDEXEDDB._driver,ea.WEBSQL._driver,ea.LOCALSTORAGE._driver],ec=["dropInstance"],es=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ec),el={description:"",driver:eu.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ef(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(en(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}t.exports=new(function(){function e(t){if(!n(this,e))throw TypeError("Cannot call a class as a function");for(var r in ea)if(ea.hasOwnProperty(r)){var o=ea[r],i=o._driver;this[r]=i,eo[i]||this.defineDriver(o)}this._defaultConfig=ef({},el),this._config=ef({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if((void 0===e?"undefined":i(e))==="object"){if(this._ready)return Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,r){var n=new c(function(t,r){try{var n=e._driver,o=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(o);for(var i=es.concat("_initStorage"),a=0,u=i.length;a<u;a++){var l=i[a];if((!er(ec,l)||e[l])&&"function"!=typeof e[l])return void r(o)}for(var f=function(e){return function(){var t=Error("Method "+e+" is not implemented by the current driver"),r=c.reject(t);return s(r,arguments[arguments.length-1]),r}},d=0,h=ec.length;d<h;d++){var p=ec[d];e[p]||(e[p]=f(p))}var v=function(r){eo[n]&&console.info("Redefining LocalForage driver: "+n),eo[n]=e,ei[n]=r,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(v,r):v(!!e._support):v(!0)}catch(e){r(e)}});return l(n,t,r),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var n=eo[e]?c.resolve(eo[e]):c.reject(Error("Driver not found."));return l(n,t,r),n},e.prototype.getSerializer=function(e){var t=c.resolve(Y);return l(t,e),t},e.prototype.ready=function(e){var t=this,r=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return l(r,e,e),r},e.prototype.setDriver=function(e,t,r){var n=this;en(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){n._config.driver=n.driver()}function a(e){return n._extend(e),i(),n._ready=n._initStorage(n._config),n._ready}var u=null!==this._driverSet?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=u.then(function(){var e=o[0];return n._dbInfo=null,n._ready=null,n.getDriver(e).then(function(e){n._driver=e._driver,i(),n._wrapLibraryMethodsWithReady(),n._initDriver=function(){var e=0;return function t(){for(;e<o.length;){var r=o[e];return e++,n._dbInfo=null,n._ready=null,n.getDriver(r).then(a).catch(t)}i();var u=Error("No available storage method found.");return n._driverSet=c.reject(u),n._driverSet}()}})}).catch(function(){i();var e=Error("No available storage method found.");return n._driverSet=c.reject(e),n._driverSet}),l(this._driverSet,t,r),this._driverSet},e.prototype.supports=function(e){return!!ei[e]},e.prototype._extend=function(e){ef(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e[r];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=es.length;e<t;e++)!function(e,t){e[t]=function(){var r=arguments;return e.ready().then(function(){return e[t].apply(e,r)})}}(this,es[e])},e.prototype.createInstance=function(t){return new e(t)},e}())},{3:3}]},{},[4])(4)})},638:function(e,t,r){"use strict";function n(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){r(e);return}u.done?t(c):Promise.resolve(c).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var a=e.apply(t,r);function u(e){n(a,o,i,u,c,"next",e)}function c(e){n(a,o,i,u,c,"throw",e)}u(void 0)})}}function i(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}function c(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function s(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var s=[u,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}function l(e){return e.arrayBuffer?e.arrayBuffer():new Promise(function(t,r){var n=new FileReader;n.addEventListener("loadend",function(){t(n.result)}),n.addEventListener("error",r),n.readAsArrayBuffer(e)})}function f(e){return"undefined"!=typeof Blob&&c(e,Blob)}function d(e){return"undefined"!=typeof SharedArrayBuffer&&c(e,SharedArrayBuffer)}r.d(t,{$1:()=>er}),e=r.hmd(e);var h,p,v="undefined"!=typeof process&&process.versions&&void 0!==process.versions.node&&void 0===process.versions.electron,y=function(){function e(t){i(this,e),this.typedArray=c(t,ArrayBuffer)||d(t)?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}return u(e,[{key:"getLength",value:function(){return o(function(){return s(this,function(e){return[2,this.typedArray.byteLength]})}).call(this)}},{key:"read",value:function(e,t){return o(function(){return s(this,function(r){return[2,new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+e,t)]})}).call(this)}}]),e}(),b=function(){function e(t){i(this,e),this.blob=t}return u(e,[{key:"getLength",value:function(){return o(function(){return s(this,function(e){return[2,this.blob.size]})}).call(this)}},{key:"read",value:function(e,t){return o(function(){return s(this,function(r){switch(r.label){case 0:return[4,l(this.blob.slice(e,e+t))];case 1:return[2,new Uint8Array(r.sent())]}})}).call(this)}},{key:"sliceAsBlob",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return o(function(){return s(this,function(n){return[2,this.blob.slice(e,e+t,r)]})}).call(this)}}]),e}();function m(e,t){var r=e.length;if(t<=r)return e;var n=new Uint8Array(Math.max(r<<1,t));return n.set(e,0),n}function g(e,t,r,n,o,i){for(var a=O,u=x,c=0;c<r;){var s=e[u(n,o)&t];o+=15&s;var l=s>>>4;if(l<=15)i[c]=l,c++;else{var f=0,d=0;16==l?(d=3+a(n,o,2),o+=2,f=i[c-1]):17==l?(d=3+a(n,o,3),o+=3):18==l&&(d=11+a(n,o,7),o+=7);for(var h=c+d;c<h;)i[c]=f,c++}}return o}function w(e,t,r,n){for(var o=0,i=0,a=n.length>>>1;i<r;){var u=e[i+t];n[i<<1]=0,n[(i<<1)+1]=u,u>o&&(o=u),i++}for(;i<a;)n[i<<1]=0,n[(i<<1)+1]=0,i++;return o}function _(e,t){for(var r,n,o,i,a,u=e.length,c=I.bl_count,i=0;i<=t;i++)c[i]=0;for(i=1;i<u;i+=2)c[e[i]]++;var s=I.next_code;for(n=1,r=0,c[0]=0;n<=t;n++)r=r+c[n-1]<<1,s[n]=r;for(o=0;o<u;o+=2)0!=(a=e[o+1])&&(e[o]=s[a],s[a]++)}function S(e,t,r){for(var n=e.length,o=I.rev15,i=0;i<n;i+=2)if(0!=e[i+1])for(var a=i>>1,u=e[i+1],c=a<<4|u,s=t-u,l=e[i]<<s,f=l+(1<<s);l!=f;)r[o[l]>>>15-t]=c,l++}function E(e,t){for(var r=I.rev15,n=15-t,o=0;o<e.length;o+=2){var i=e[o]<<t-e[o+1];e[o]=r[i]>>>n}}function O(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8)>>>(7&t)&(1<<r)-1}function k(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)&(1<<r)-1}function x(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)}for(var I=(h=Uint16Array,p=Uint32Array,{next_code:new h(16),bl_count:new h(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new h(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new p(32),flmap:new h(512),fltree:[],fdmap:new h(32),fdtree:[],lmap:new h(32768),ltree:[],ttree:[],dmap:new h(32768),dtree:[],imap:new h(512),itree:[],rev15:new h(32768),lhst:new p(286),dhst:new p(30),ihst:new p(19),lits:new p(15e3),strt:new h(65536),prev:new h(32768)}),j=0;j<32768;j++){var A=j;A=(0xff00ff00&(A=(0xf0f0f0f0&(A=(0xcccccccc&(A=(0xaaaaaaaa&A)>>>1|(0x55555555&A)<<1))>>>2|(0x33333333&A)<<2))>>>4|(0xf0f0f0f&A)<<4))>>>8|(0xff00ff&A)<<8,I.rev15[j]=(A>>>16|A<<16)>>>17}function F(e,t,r){for(;0!=t--;)e.push(0,r)}for(var j=0;j<32;j++)I.ldef[j]=I.of0[j]<<3|I.exb[j],I.ddef[j]=I.df0[j]<<4|I.dxb[j];F(I.fltree,144,8),F(I.fltree,112,9),F(I.fltree,24,7),F(I.fltree,8,8),_(I.fltree,9),S(I.fltree,9,I.flmap),E(I.fltree,9),F(I.fdtree,32,5),_(I.fdtree,5),S(I.fdtree,5,I.fdmap),E(I.fdtree,5),F(I.itree,19,0),F(I.ltree,286,0),F(I.dtree,30,0),F(I.ttree,320,0);var R={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,n=0;n<8;n++)1&r?r=0xedb88320^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(e,t,r,n){for(var o=0;o<n;o++)e=R.table[(e^t[r+o])&255]^e>>>8;return e},crc:function(e,t,r){return 0xffffffff^R.update(0xffffffff,e,t,r)}},T={numWorkers:1,workerURL:"",useWorkers:!1},P=0,B=0,L=!0,U=[],N=[],D=[],M=new Map;function C(e){W(e.target);var t=e.data,r=t.id,n=t.error,o=t.data,i=M.get(r);M.delete(r),n?i.reject(n):i.resolve(o)}function z(e){return new Promise(function(t,r){var n=new Worker(e);n.onmessage=function(e){"start"===e.data?(n.onerror=void 0,n.onmessage=void 0,t(n)):r(Error("unexpected message: ".concat(e.data)))},n.onerror=r})}var H=function(){if(!v)return{createWorker:function(e){return o(function(){var t,r,n,o;return s(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,z(e)];case 1:return[2,i.sent()];case 2:return i.sent(),console.warn("could not load worker:",e),[3,3];case 3:return i.trys.push([3,7,,8]),[4,fetch(e,{mode:"cors"})];case 4:if(!(r=i.sent()).ok)throw Error("could not load: ".concat(e));return[4,r.text()];case 5:return t=i.sent(),[4,z(e=URL.createObjectURL(new Blob([t],{type:"application/javascript"})))];case 6:return n=i.sent(),T.workerURL=e,[2,n];case 7:return i.sent(),console.warn("could not load worker via fetch:",e),[3,8];case 8:if(void 0===t)return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,z(e="data:application/javascript;base64,".concat(btoa(t)))];case 10:return o=i.sent(),T.workerURL=e,[2,o];case 11:return i.sent(),console.warn("could not load worker via dataURI"),[3,12];case 12:throw console.warn("workers will not be used"),Error("can not start workers")}})})()},addEventListener:function(e,t){e.addEventListener("message",t)},terminate:function(e){return o(function(){return s(this,function(t){return e.terminate(),[2]})})()}};var t,r=((t=e).require?t.require("worker_threads"):{}).Worker;return{createWorker:function(e){return o(function(){return s(this,function(t){return[2,new r(e)]})})()},addEventListener:function(e,t){e.on("message",function(r){t({target:e,data:r})})},terminate:function(e){return o(function(){return s(this,function(t){switch(t.label){case 0:return[4,e.terminate()];case 1:return t.sent(),[2]}})})()}}}();function W(e){N.push(e),q()}function q(){return o(function(){var e,t,r,n,i,a,u,c,d,h,p,v,y,b,E;return s(this,function(j){switch(j.label){case 0:if(0===D.length)return[2];if(!(T.useWorkers&&L))return[3,2];return[4,o(function(){var e;return s(this,function(t){switch(t.label){case 0:if(!(0===N.length&&B<T.numWorkers))return[3,4];++B,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,H.createWorker(T.workerURL)];case 2:return e=t.sent(),U.push(e),N.push(e),H.addEventListener(e,C),[3,4];case 3:return t.sent(),L=!1,[3,4];case 4:return[2,N.pop()]}})})()];case 1:if(e=j.sent(),L){if(e){if(0===D.length)return W(e),[2];r=(t=D.shift()).id,n=t.src,i=t.uncompressedSize,a=t.type,u=t.resolve,c=t.reject,M.set(r,{id:r,resolve:u,reject:c}),d=[],e.postMessage({type:"inflate",data:{id:r,type:a,src:n,uncompressedSize:i}},d)}return[2]}j.label=2;case 2:if(!D.length)return[3,5];if(p=(h=D.shift()).src,v=h.uncompressedSize,y=h.type,b=h.resolve,E=p,!f(p))return[3,4];return[4,o(function(){return s(this,function(e){switch(e.label){case 0:return[4,l(p)];case 1:return[2,new Uint8Array(e.sent())]}})})()];case 3:E=j.sent(),j.label=4;case 4:var A=E,F=y,R=b,P=new Uint8Array(v);return!function(e,t){var r,n,o=Uint8Array;if(3==e[0]&&0==e[1])return t||new o(0);var i=O,a=x,u=null==t;u&&(t=new o(e.length>>>2<<3));for(var c=0,s=0,l=0,f=0,d=0,h=0,p=0,v=0,y=0;0==c;){if(c=k(e,y,1),s=k(e,y+1,2),y+=3,0==s){(7&y)!=0&&(y+=8-(7&y));var b=(y>>>3)+4,E=e[b-4]|e[b-3]<<8;u&&(t=m(t,v+E)),t.set(new o(e.buffer,e.byteOffset+b,E),v),y=b+E<<3,v+=E;continue}if(u&&(t=m(t,v+131072)),1==s&&(r=I.flmap,n=I.fdmap,h=511,p=31),2==s){l=i(e,y,5)+257,f=i(e,y+5,5)+1,d=i(e,y+10,4)+4,y+=14;for(var j=0;j<38;j+=2)I.itree[j]=0,I.itree[j+1]=0;for(var A=1,j=0;j<d;j++){var F=i(e,y+3*j,3);I.itree[(I.ordr[j]<<1)+1]=F,F>A&&(A=F)}y+=3*d,_(I.itree,A),S(I.itree,A,I.imap),r=I.lmap,n=I.dmap,y=g(I.imap,(1<<A)-1,l+f,e,y,I.ttree);var R=w(I.ttree,0,l,I.ltree);h=(1<<R)-1;var T=w(I.ttree,l,f,I.dtree);p=(1<<T)-1,_(I.ltree,R),S(I.ltree,R,r),_(I.dtree,T),S(I.dtree,T,n)}for(;;){var P=r[a(e,y)&h];y+=15&P;var B=P>>>4;if(B>>>8==0)t[v++]=B;else if(256==B)break;else{var L=v+B-254;if(B>264){var U=I.ldef[B-257];L=v+(U>>>3)+i(e,y,7&U),y+=7&U}var N=n[a(e,y)&p];y+=15&N;var D=N>>>4,M=I.ddef[D],C=(M>>>4)+k(e,y,15&M);for(y+=15&M,u&&(t=m(t,v+131072));v<L;)t[v]=t[v++-C],t[v]=t[v++-C],t[v]=t[v++-C],t[v]=t[v++-C];v=L}}}t.length==v||t.slice(0,v)}(A,P),R(F?new Blob([P],{type:F}):P.buffer),[3,2];case 5:return[2]}})})()}function V(e,t,r){return new Promise(function(n,o){D.push({src:e,uncompressedSize:t,type:r,resolve:n,reject:o,id:P++}),q()})}var G=function(){function e(t,r){var n,o;i(this,e),this._reader=t,this._rawEntry=r,this.name=r.name,this.nameBytes=r.nameBytes,this.size=r.uncompressedSize,this.compressedSize=r.compressedSize,this.comment=r.comment,this.commentBytes=r.commentBytes,this.compressionMethod=r.compressionMethod,this.lastModDate=new Date(((n=r.lastModFileDate)>>9&127)+1980,(n>>5&15)-1,31&n,(o=r.lastModFileTime)>>11&31,o>>5&63,(31&o)*2,0),this.isDirectory=0===r.uncompressedSize&&r.name.endsWith("/"),this.encrypted=!!(1&r.generalPurposeBitFlag),this.externalFileAttributes=r.externalFileAttributes,this.versionMadeBy=r.versionMadeBy}return u(e,[{key:"blob",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/octet-stream";return o(function(){return s(this,function(t){switch(t.label){case 0:var r,n,i;return[4,(r=this._reader,n=this._rawEntry,i=e,o(function(){var e,t,o,a;return s(this,function(u){switch(u.label){case 0:return[4,et(r,n)];case 1:if(t=(e=u.sent()).decompress,o=e.fileDataStart,t)return[3,3];return[4,J(r,o,n.compressedSize,i)];case 2:if(f(a=u.sent()))return[2,a];return[2,new Blob([d(a.buffer)?new Uint8Array(a):a],{type:i})];case 3:return[4,J(r,o,n.compressedSize)];case 4:return[4,V(u.sent(),n.uncompressedSize,i)];case 5:return[2,u.sent()]}})})())];case 1:return[2,t.sent()]}})}).call(this)}},{key:"arrayBuffer",value:function(){return o(function(){return s(this,function(e){switch(e.label){case 0:var t,r;return[4,(t=this._reader,r=this._rawEntry,o(function(){var e,n,o,i;return s(this,function(a){switch(a.label){case 0:return[4,et(t,r)];case 1:if(n=(e=a.sent()).decompress,o=e.fileDataStart,n)return[3,3];return[4,K(t,o,r.compressedSize)];case 2:var u;return[2,0===(u=i=a.sent()).byteOffset&&u.byteLength===u.buffer.byteLength?i.buffer:i.slice().buffer];case 3:return[4,J(t,o,r.compressedSize)];case 4:return[4,V(a.sent(),r.uncompressedSize)];case 5:return[2,a.sent()]}})})())];case 1:return[2,e.sent()]}})}).call(this)}},{key:"text",value:function(){return o(function(){return s(this,function(e){switch(e.label){case 0:return[4,this.arrayBuffer()];case 1:return[2,Z(new Uint8Array(e.sent()))]}})}).call(this)}},{key:"json",value:function(){return o(function(){return s(this,function(e){switch(e.label){case 0:return[4,this.text()];case 1:return[2,JSON.parse(e.sent())]}})}).call(this)}}]),e}();function K(e,t,r){return o(function(){return s(this,function(n){switch(n.label){case 0:return[4,e.read(t,r)];case 1:return[2,n.sent()]}})})()}function J(e,t,r,n){return o(function(){return s(this,function(o){switch(o.label){case 0:if(!e.sliceAsBlob)return[3,2];return[4,e.sliceAsBlob(t,r,n)];case 1:case 3:return[2,o.sent()];case 2:return[4,e.read(t,r)]}})})()}function Y(e,t){return e[t]+256*e[t+1]}function X(e,t){return e[t]+256*e[t+1]+65536*e[t+2]+0x1000000*e[t+3]}function Q(e,t){return X(e,t)+0x100000000*X(e,t+4)}var $=new TextDecoder;function Z(e,t){return d(e.buffer)&&(e=new Uint8Array(e)),$.decode(e)}function ee(e,t,r,n,i,a){return o(function(){var o,u,c,l,f,d,h,p,v,y,b,m,g,w,_,S,E,O,k,x;return s(this,function(s){switch(s.label){case 0:return o=0,[4,K(e,t,r)];case 1:for(l=0,u=s.sent(),c=[];l<n;++l){if(0x2014b50!==(d=X(f=u.subarray(o,o+46),0)))throw Error("invalid central directory file header signature: 0x".concat(d.toString(16)));if(64&(h={versionMadeBy:Y(f,4),versionNeededToExtract:Y(f,6),generalPurposeBitFlag:Y(f,8),compressionMethod:Y(f,10),lastModFileTime:Y(f,12),lastModFileDate:Y(f,14),crc32:X(f,16),compressedSize:X(f,20),uncompressedSize:X(f,24),fileNameLength:Y(f,28),extraFieldLength:Y(f,30),fileCommentLength:Y(f,32),internalFileAttributes:Y(f,36),externalFileAttributes:X(f,38),relativeOffsetOfLocalHeader:X(f,42)}).generalPurposeBitFlag)throw Error("strong encryption is not supported");for(o+=46,p=u.subarray(o,o+h.fileNameLength+h.extraFieldLength+h.fileCommentLength),h.nameBytes=p.slice(0,h.fileNameLength),h.name=Z(h.nameBytes),v=h.fileNameLength+h.extraFieldLength,y=p.slice(h.fileNameLength,v),h.extraFields=[],b=0;b<y.length-3;){if(m=Y(y,b+0),g=Y(y,b+2),(_=(w=b+4)+g)>y.length)throw Error("extra field length exceeds extra field buffer size");h.extraFields.push({id:m,data:y.slice(w,_)}),b=_}if(h.commentBytes=p.slice(v,v+h.fileCommentLength),h.comment=Z(h.commentBytes),o+=p.length,0xffffffff===h.uncompressedSize||0xffffffff===h.compressedSize||0xffffffff===h.relativeOffsetOfLocalHeader){if(!(S=h.extraFields.find(function(e){return 1===e.id})))throw Error("expected zip64 extended information extra field");if(E=S.data,O=0,0xffffffff===h.uncompressedSize){if(O+8>E.length)throw Error("zip64 extended information extra field does not include uncompressed size");h.uncompressedSize=Q(E,O),O+=8}if(0xffffffff===h.compressedSize){if(O+8>E.length)throw Error("zip64 extended information extra field does not include compressed size");h.compressedSize=Q(E,O),O+=8}if(0xffffffff===h.relativeOffsetOfLocalHeader){if(O+8>E.length)throw Error("zip64 extended information extra field does not include relative header offset");h.relativeOffsetOfLocalHeader=Q(E,O),O+=8}}if((k=h.extraFields.find(function(e){return 28789===e.id&&e.data.length>=6&&1===e.data[0]&&X(e.data,1)},(h.nameBytes,0)))&&(h.fileName=Z(k.data.slice(5))),0===h.compressionMethod&&(x=h.uncompressedSize,(1&h.generalPurposeBitFlag)!=0&&(x+=12),h.compressedSize!==x))throw Error("compressed size mismatch for stored file: ".concat(h.compressedSize," != ").concat(x));c.push(h)}return[2,{zip:{comment:i,commentBytes:a},entries:c.map(function(t){return new G(e,t)})}]}})})()}function et(e,t){return o(function(){var r,n,o,i,a,u,c,l,f;return s(this,function(s){switch(s.label){case 0:if(1&t.generalPurposeBitFlag)throw Error("encrypted entries not supported");return[4,K(e,t.relativeOffsetOfLocalHeader,30)];case 1:return r=s.sent(),[4,e.getLength()];case 2:if(n=s.sent(),0x4034b50!==(o=X(r,0)))throw Error("invalid local file header signature: 0x".concat(o.toString(16)));if(i=Y(r,26),a=Y(r,28),u=t.relativeOffsetOfLocalHeader+r.length+i+a,0===t.compressionMethod)c=!1;else if(8===t.compressionMethod)c=!0;else throw Error("unsupported compression method: ".concat(t.compressionMethod));if(f=(l=u)+t.compressedSize,0!==t.compressedSize&&f>n)throw Error("file data overflows file bounds: ".concat(l," +  ").concat(t.compressedSize,"  > ").concat(n));return[2,{decompress:c,fileDataStart:l}]}})})()}function er(e){return o(function(){var t;return s(this,function(r){switch(r.label){case 0:return[4,o(function(){var t,r,n;return s(this,function(i){switch(i.label){case 0:if(!("undefined"!=typeof Blob&&c(e,Blob)))return[3,1];return t=new b(e),[3,7];case 1:if(!(c(e,ArrayBuffer)||e&&e.buffer&&c(e.buffer,ArrayBuffer)))return[3,2];return t=new y(e),[3,7];case 2:if(!(d(e)||d(e.buffer)))return[3,3];return t=new y(e),[3,7];case 3:if("string"!=typeof e)return[3,6];return[4,fetch(e)];case 4:if(!(r=i.sent()).ok)throw Error("failed http request ".concat(e,", status: ").concat(r.status,": ").concat(r.statusText));return[4,r.blob()];case 5:return t=new b(i.sent()),[3,7];case 6:if("function"==typeof e.getLength&&"function"==typeof e.read)t=e;else throw Error("unsupported source type");i.label=7;case 7:return[4,t.getLength()];case 8:var a;if((n=i.sent())>Number.MAX_SAFE_INTEGER)throw Error("file too large. size: ".concat(n,". Only file sizes up 4503599627370496 bytes are supported"));return[4,(a=t,o(function(){var e,t,r,i,u,c,l,f,d,h,p,v,y;return s(this,function(b){switch(b.label){case 0:return e=Math.min(65557,n),[4,K(a,t=n-e,e)];case 1:r=b.sent(),i=e-22,b.label=2;case 2:var m,g,w,_;if(!(i>=0))return[3,7];if(0x6054b50!==X(r,i))return[3,6];if(0!==(c=Y(u=new Uint8Array(r.buffer,r.byteOffset+i,r.byteLength-i),4)))throw Error("multi-volume zip files are not supported. This is volume: ".concat(c));if(l=Y(u,10),f=X(u,12),d=X(u,16),(h=Y(u,20))!==(p=u.length-22))throw Error("invalid comment length. expected: ".concat(p,", actual: ").concat(h));if(y=Z(v=new Uint8Array(u.buffer,u.byteOffset+22,h)),65535!==l&&0xffffffff!==d)return[3,4];return[4,(m=a,g=t+i,w=y,_=v,o(function(){var e,t,r,n;return s(this,function(o){switch(o.label){case 0:return[4,K(m,g-20,20)];case 1:if(0x7064b50!==X(e=o.sent(),0))throw Error("invalid zip64 end of central directory locator signature");return[4,K(m,Q(e,8),56)];case 2:if(0x6064b50!==X(t=o.sent(),0))throw Error("invalid zip64 end of central directory record signature");return r=Q(t,32),n=Q(t,40),[2,ee(m,Q(t,48),n,r,w,_)]}})})())];case 3:case 5:return[2,b.sent()];case 4:return[4,ee(a,d,f,l,y,v)];case 6:return--i,[3,2];case 7:throw Error("could not find end of central directory. maybe not zip file")}})})())];case 9:return[2,i.sent()]}})})()];case 1:return[2,{zip:(t=r.sent()).zip,entries:Object.fromEntries(t.entries.map(function(e){return[e.name,e]}))}]}})})()}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0,r.rv=()=>"1.5.6",r.ruid="bundler=rspack@1.5.6",(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function t(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){r(e);return}u.done?t(c):Promise.resolve(c).then(n,o)}function n(e){return function(){var r=this,n=arguments;return new Promise(function(o,i){var a=e.apply(r,n);function u(e){t(a,o,i,u,c,"next",e)}function c(e){t(a,o,i,u,c,"throw",e)}u(void 0)})}}function o(e,t,r){return(o=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o}).apply(null,arguments)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,a(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)})(e)}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function l(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var s=[u,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var f,d=function(t){var r;if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");function o(){var e,t;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return e=o,t=arguments,e=a(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,s()?Reflect.construct(e,t||[],a(this).constructor):e.apply(this,t))}return o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),t&&u(o,t),r=[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.log("Creating a new Element of ".concat(e));var n=document.createElement(e);return Object.keys(t).forEach(function(e){"content"===e?n.innerHTML=t[e]:n.setAttribute(e,t[e])}),null===r?this.appendChild(n):r.appendChild(n),n}},{key:"event",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new CustomEvent(e,{detail:t});this.dispatchEvent(r)}},{key:"on",value:function(e,t){return this.addEventListener(e,function(e){t(e.detail)})}},{key:"once",value:function(e,t){return this.addEventListener(e,function(e){t(e.detail)},{once:!0})}},{key:"call",value:function(e){return n(function(e){var t,r,n,o,i,a,u,c,s=arguments;return l(this,function(l){switch(l.label){case 0:t=s.length>1&&void 0!==s[1]?s[1]:{},r={"Content-Type":"application/json"},"localstorage"===this.getAttribute("security-scheme")&&(n=localStorage.getItem("bearer-token"),r.Authorization="Bearer ".concat(n)),i=(o=new AbortController).signal,(a=this.getAttribute("call-timeout"))&&setTimeout(function(){return o.abort()},a),l.label=1;case 1:return l.trys.push([1,6,,7]),[4,fetch(e,{method:"post",headers:r,body:JSON.stringify(t),signal:i})];case 2:if(!(u=l.sent()).ok)return[3,4];return[4,u.json()];case 3:return[2,l.sent()];case 4:throw Error("HTTP error! status: ".concat(u.status));case 5:return[3,7];case 6:if("AbortError"===(c=l.sent()).name)throw Error("Request timed out");throw c;case 7:return[2]}})}).apply(this,arguments)}},{key:"getJSON",value:function(e){return n(function(){var t,r,n;return l(this,function(o){switch(o.label){case 0:this.log("Fetching JSON from: ".concat(e)),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(e)];case 2:return t=o.sent(),[3,4];case 3:throw r=o.sent(),Error("Network error while fetching JSON from ".concat(e,": ").concat(r.message));case 4:if(!t.ok)throw Error("HTTP error! status: ".concat(t.status," ").concat(t.statusText," while fetching JSON from ").concat(e));o.label=5;case 5:return o.trys.push([5,7,,8]),[4,t.json()];case 6:return[2,o.sent()];case 7:throw n=o.sent(),Error("Failed to parse JSON from ".concat(e,": ").concat(n.message));case 8:return[2]}})}).call(this)}},{key:"log",value:function(e){this.verbose&&console.log(this.id,"says:",e),this.event("status-update",e)}},{key:"connectedCallback",value:function(){var e=this;"loading"!==document.readyState?this.preInit():document.addEventListener("DOMContentLoaded",function(){return e.preInit()})}},{key:"preInit",value:function(){return n(function(){var e;return l(this,function(t){return e=this,this.content=this.innerText,this.attrs=this.getAttributeNames().reduce(function(t,r){var n,o;return n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){i(e,t,r[t])})}return e}({},t),o=null!=(o=i({},r,e.getAttribute(r)))?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}),n},{}),this.classList.add("dataroom-element"),this.observeAttributeChanges(),this.initialize(),[2]})}).call(this)}},{key:"setAttrs",value:function(t){return n(function(){var r,n,o,i,a,u,c,s,f;return l(this,function(l){switch(l.label){case 0:this.log("setting attrs:",t),r=!0,n=!1,o=void 0,l.label=1;case 1:l.trys.push([1,6,7,8]),i=Object.entries(t)[Symbol.iterator](),l.label=2;case 2:var d;if(r=(a=i.next()).done)return[3,5];return d=a.value,c=(u=function(e){if(Array.isArray(e))return e}(d)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,u=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){u=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(u)throw n}}return i}}(d,2)||function(t,r){if(t){if("string"==typeof t)return e(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,r)}}(d,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],s=u[1],[4,this.setAttribute(c,s)];case 3:l.sent(),l.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return f=l.sent(),n=!0,o=f,[3,8];case 7:try{r||null==i.return||i.return()}finally{if(n)throw o}return[7];case 8:return this.render(),[2]}})}).call(this)}},{key:"observeAttributeChanges",value:function(){var e=this;this.log("observing attribute changes"),this.attributeObserver=new MutationObserver(function(t){t.forEach(function(t){"attributes"===t.type&&(e.attrs[t.attributeName]=e.getAttribute(t.attributeName),e.event("NODE-CHANGED",{attribute:t.attributeName,oldValue:t.oldValue,newValue:e.getAttribute(t.attributeName)}))})}),this.attributeObserver.observe(this,{attributes:!0,attributeOldValue:!0})}},{key:"initialize",value:function(){return n(function(){return l(this,function(e){return[2]})})()}},{key:"disconnectedCallback",value:function(){this.log("disconnecting..."),this.disconnect()}},{key:"disconnect",value:function(){return n(function(){return l(this,function(e){return[2]})})()}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(o.prototype,r),o}(c(HTMLElement));function h(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){r(e);return}u.done?t(c):Promise.resolve(c).then(n,o)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}var b=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=p(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,y()?Reflect.construct(e,t||[],p(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&v(r,e),t=[{key:"initialize",value:function(){var e;return(e=function(){var e,t,r,n,o;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var s=[u,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(i){return e=this,this.create("label",{for:"file-input",content:"Select a file:"}),t=this.create("input",{type:"file",id:"file-input"}),this.create("label",{for:"file-name",content:"Name:"}),r=this.create("input",{type:"text",id:"file-name"}),this.create("label",{for:"file-notes",content:"Notes:"}),n=this.create("textarea",{id:"file-notes"}),o=this.create("button",{id:"upload-button",content:"Upload"}),t.addEventListener("change",function(){var e=t.files&&t.files[0];e&&(r.value=e.name||"",n.value="".concat((e.size/1024).toFixed(2)," KB"))}),o.addEventListener("click",function(){e.handleUpload(t,r,n)}),[2]})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){h(i,n,o,a,u,"next",e)}function u(e){h(i,n,o,a,u,"throw",e)}a(void 0)})}).call(this)}},{key:"handleUpload",value:function(e,t,r){var n=this,o=e.files&&e.files[0];if(o){var i=t.value,a=r.value,u=new FileReader;u.readAsDataURL(o),u.onload=function(){var e=u.result;n.event("fileuploaded",{fileData:e,name:i,notes:a})}}}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(d);customElements.define("file-uploader",b);var m=r(190);let g=r.n(m)();function w(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){r(e);return}u.done?t(c):Promise.resolve(c).then(n,o)}function _(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){w(i,n,o,a,u,"next",e)}function u(e){w(i,n,o,a,u,"throw",e)}a(void 0)})}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(O=function(){return!!e})()}function k(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var s=[u,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var x=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=S(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,O()?Reflect.construct(e,t||[],S(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&E(r,e),t=[{key:"initialize",value:function(){return _(function(){return k(this,function(e){switch(e.label){case 0:if(this.crypto=window.crypto||window.msCrypto,!this.hasAttribute("verbose"))return[3,2];return this.create("h1",{content:"File Clerk"}),this.create("div",{class:"file-list"}),[4,this.renderFileList()];case 1:e.sent(),e.label=2;case 2:return[2]}})}).call(this)}},{key:"saveFile",value:function(e,t,r){return _(function(){var n,o;return k(this,function(i){switch(i.label){case 0:return n=this.crypto.randomUUID(),o={filename:e,contents:t,metadata:r},[4,g.setItem(n,o)];case 1:return i.sent(),this.hasAttribute("verbose")&&this.renderFileList(),[2]}})}).call(this)}},{key:"deleteFile",value:function(e){return _(function(){return k(this,function(t){switch(t.label){case 0:return[4,g.removeItem(e)];case 1:return t.sent(),this.hasAttribute("verbose")&&this.renderFileList(),[2]}})}).call(this)}},{key:"listFiles",value:function(){return _(function(){return k(this,function(e){switch(e.label){case 0:return[4,g.keys()];case 1:return[4,Promise.all(e.sent().map(function(e){return _(function(){var t;return k(this,function(r){switch(r.label){case 0:return[4,g.getItem(e)];case 1:return[2,{id:e,filename:(t=r.sent()).filename,contents:t.contents,metadata:t.metadata}]}})})()}))];case 2:return[2,e.sent()]}})})()}},{key:"openFile",value:function(e){return _(function(){var t;return k(this,function(r){switch(r.label){case 0:return[4,g.getItem(e)];case 1:return t=r.sent(),this.event("file-opened",t),[2]}})}).call(this)}},{key:"renderFileList",value:function(){return _(function(){var e,t,r;return k(this,function(n){switch(n.label){case 0:if(e=this,!this.hasAttribute("verbose"))return[2];return[4,this.listFiles()];case 1:return t=n.sent(),(r=this.querySelector(".file-list"))&&(r.innerHTML="",t.forEach(function(t){var n=e.create("div",{},r);e.create("span",{content:t.filename},n),e.create("button",{content:"Open"},n).addEventListener("click",function(){return _(function(){return k(this,function(e){switch(e.label){case 0:return[4,this.openFile(t.id)];case 1:return e.sent(),[2]}})}).call(e)}),e.create("button",{content:"Delete"},n).addEventListener("click",function(){return _(function(){return k(this,function(e){switch(e.label){case 0:return[4,this.deleteFile(t.id)];case 1:return e.sent(),[2]}})}).call(e)})})),[2]}})}).call(this)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(d);customElements.define("file-clerk",x);function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(A=function(){return!!e})()}var F=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=I(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,A()?Reflect.construct(e,t||[],I(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&j(r,e),t=[{key:"openFile",value:function(e){var t=e.split(":")[1].split(";")[0];switch(t){case"image/jpeg":case"image/png":this.renderImage(e);break;case"video/mp4":this.renderVideo(e);break;case"audio/mpeg":this.renderAudio(e);break;case"application/pdf":this.renderPdf(e);break;case"text/plain":this.renderText(e);break;default:console.error("Unsupported file type:",t)}}},{key:"renderImage",value:function(e){this.create("img",{src:e}),this.clear()}},{key:"renderVideo",value:function(e){this.create("video",{controls:!0,src:e}),this.clear()}},{key:"renderAudio",value:function(e){this.create("audio",{controls:!0,src:e}),this.clear()}},{key:"renderText",value:function(e){var t=this;fetch(e).then(function(e){return e.text()}).then(function(e){t.clear(),t.create("pre",{content:e})}).catch(function(e){console.error("Error loading text file:",e)})}},{key:"renderPdf",value:function(e){this.create("embed",{src:e,type:"application/pdf"}),this.clear()}},{key:"clear",value:function(){for(;this.firstChild;)this.removeChild(this.firstChild)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(d);function R(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){r(e);return}u.done?t(c):Promise.resolve(c).then(n,o)}customElements.define("file-viewer",F);function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(B=function(){return!!e})()}var L=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=T(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,B()?Reflect.construct(e,t||[],T(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&P(r,e),t=[{key:"initialize",value:function(){var e;return(e=function(){return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var s=[u,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(e){return[2]})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){R(i,n,o,a,u,"next",e)}function u(e){R(i,n,o,a,u,"throw",e)}a(void 0)})})()}},{key:"splitFiles",value:function(e){for(var t=r.CHUNK_SIZE,n=Math.ceil(e.length/t),o=[],i=0;i<n;i++){var a=i*t,u=(i+1)*t,c={index:i,data:e.slice(a,u)};o.push(c)}return o}},{key:"joinFiles",value:function(e){e.sort(function(e,t){return e.index-t.index});for(var t="",r=0;r<e.length;r++)t+=e[r].data;return t}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(d);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function N(e){var t,r;function n(t,r){try{var i=e[t](r),a=i.value,u=a instanceof q;Promise.resolve(u?a.v:a).then(function(r){if(u){var c="return"===t?"return":"next";if(!a.k||r.done)return n(c,r);r=e[c](r).value}o(i.done?"return":"normal",r)},function(e){n("throw",e)})}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,o){return new Promise(function(i,a){var u={key:e,arg:o,resolve:i,reject:a,next:null};r?r=r.next=u:(t=r=u,n(e,o))})},"function"!=typeof e.return&&(this.return=void 0)}function D(e){var t,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new M(t.call(e));r="@@asyncIterator",n="@@iterator"}throw TypeError("Object is not async iterable")}function M(e){function t(e){if(Object(e)!==e)return Promise.reject(TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return(M=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new M(e)}function C(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){r(e);return}u.done?t(c):Promise.resolve(c).then(n,o)}function z(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){C(i,n,o,a,u,"next",e)}function u(e){C(i,n,o,a,u,"throw",e)}a(void 0)})}}function H(e){return new q(e,0)}function W(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function q(e,t){this.v=e,this.k=t}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,u=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(u)throw n}}return i}}(e,t)||K(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}}function J(e){return function(){return new N(e.apply(this,arguments))}}function Y(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var s=[u,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(f="CHUNK_SIZE")in L?Object.defineProperty(L,f,{value:14e3,enumerable:!0,configurable:!0,writable:!0}):L[f]=14e3,customElements.define("file-splitter",L),N.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},N.prototype.next=function(e){return this._invoke("next",e)},N.prototype.throw=function(e){return this._invoke("throw",e)},N.prototype.return=function(e){return this._invoke("return",e)},"stream"in Blob.prototype||Object.defineProperty(Blob.prototype,"stream",{value:function(){return new Response(this).body}}),"setBigUint64"in DataView.prototype||Object.defineProperty(DataView.prototype,"setBigUint64",{value:function(e,t,r){var n=Number(4294967295n&t),o=Number(t>>32n);this.setUint32(e+4*!r,n,r),this.setUint32(e+4*!!r,o,r)}});var X=function(e){return new DataView(new ArrayBuffer(e))},Q=function(e){return new Uint8Array(e.buffer||e)},$=function(e){return(new TextEncoder).encode(String(e))},Z=function(e){return Math.min(0xffffffff,Number(e))},ee=function(e){return Math.min(65535,Number(e))};function et(e,t,r){void 0===t||W(t,Date)||(t=new Date(t));var n=void 0!==e;if(r||(r=n?436:509),W(e,File))return{isFile:n,t:t||new Date(e.lastModified),bytes:e.stream(),mode:r};if(W(e,Response))return{isFile:n,t:t||new Date(e.headers.get("Last-Modified")||Date.now()),bytes:e.body,mode:r};if(void 0===t)t=new Date;else if(isNaN(t))throw Error("Invalid modification date.");if(!n)return{isFile:n,t:t,mode:r};if("string"==typeof e)return{isFile:n,t:t,bytes:$(e),mode:r};if(W(e,Blob))return{isFile:n,t:t,bytes:e.stream(),mode:r};if(W(e,Uint8Array)||W(e,ReadableStream))return{isFile:n,t:t,bytes:e,mode:r};if(W(e,ArrayBuffer)||ArrayBuffer.isView(e))return{isFile:n,t:t,bytes:Q(e),mode:r};if(Symbol.asyncIterator in e)return{isFile:n,t:t,bytes:er(e[Symbol.asyncIterator]()),mode:r};throw TypeError("Unsupported input format.")}function er(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new ReadableStream({pull:function(t){return z(function(){var r,n,o;return Y(this,function(i){switch(i.label){case 0:r=0,i.label=1;case 1:if(!(t.desiredSize>r))return[3,4];return[4,e.next()];case 2:var a;if(!(n=i.sent()).value)return t.close(),[3,4];o="string"==typeof(a=n.value)?$(a):W(a,Uint8Array)?a:Q(a),t.enqueue(o),r+=o.byteLength,i.label=3;case 3:return[3,1];case 4:return[2]}})})()},cancel:function(e){var r;null==(r=t.throw)||r.call(t,e)}})}function en(e,t,r){var n,o,i=V(t?W(t,Uint8Array)?[t,1]:ArrayBuffer.isView(t)||W(t,ArrayBuffer)?[Q(t),1]:[$(t),0]:[void 0,0],2),a=i[0],u=i[1];if(W(e,File))return{i:eo(a||$(e.name)),o:BigInt(e.size),u:u};if(W(e,Response)){var c=e.headers.get("content-disposition"),s=c&&c.match(/;\s*filename\*?\s*=\s*(?:UTF-\d+''|)["']?([^;"'\r\n]*)["']?(?:;|$)/i),l=s&&s[1]||e.url&&new URL(e.url).pathname.split("/").findLast(Boolean),f=l&&decodeURIComponent(l),d=r||+e.headers.get("content-length");return{i:eo(a||$(f)),o:BigInt(d),u:u}}return a=eo(a,void 0!==e||void 0!==r),"string"==typeof e?{i:a,o:BigInt($(e).length),u:u}:W(e,Blob)?{i:a,o:BigInt(e.size),u:u}:W(e,ArrayBuffer)||ArrayBuffer.isView(e)?{i:a,o:BigInt(e.byteLength),u:u}:{i:a,o:(n=e,(o=r)>-1?BigInt(o):n?void 0:0n),u:u}}function eo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e||e.every(function(e){return 47===e}))throw Error("The file must have a name.");if(t)for(;47===e[e.length-1];)e=e.subarray(0,-1);else 47!==e[e.length-1]&&(e=new Uint8Array(G(e).concat([47])));return e}for(var ei=new Uint32Array(256),ea=0;ea<256;++ea){for(var eu=ea,ec=0;ec<8;++ec)eu=eu>>>1^(1&eu&&0xedb88320);ei[ea]=eu}function es(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=~t;for(var r=0,n=e.length;r<n;r++)t=t>>>8^ei[255&t^e[r]];return~t>>>0}function el(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.getSeconds()>>1|e.getMinutes()<<5|e.getHours()<<11,o=e.getDate()|e.getMonth()+1<<5|e.getFullYear()-1980<<9;t.setUint16(r,n,1),t.setUint16(r+2,o,1)}var ef=new TextDecoder("utf8",{fatal:1});function ed(e){return W(e,File)||W(e,Response)?[[e],[e]]:[[e.input,e.name,e.size],[e.input,e.lastModified,e.mode]]}var eh=r(638);function ep(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){r(e);return}u.done?t(c):Promise.resolve(c).then(n,o)}function ev(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ep(i,n,o,a,u,"next",e)}function u(e){ep(i,n,o,a,u,"throw",e)}a(void 0)})}}function ey(e){return(ey=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eb(e,t){return(eb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function em(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(em=function(){return!!e})()}function eg(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var s=[u,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var ew=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=ey(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,em()?Reflect.construct(e,t||[],ey(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&eb(r,e),t=[{key:"initialize",value:function(){return ev(function(){var e,t,r,n,o;return eg(this,function(i){return e=this,t=this.getAttribute("target")||"#file_clerk",this._targetSelector=t,this.hasAttribute("verbose")&&(this.innerHTML="",r=this.create("div",{style:"display: flex; gap: 0.5rem; align-items: center;"}),this.create("button",{content:"Export ZIP"},r).addEventListener("click",function(){return e.exportArchive()}),n=this.create("button",{content:"Import ZIP"},r),o=this.create("input",{type:"file",accept:".zip",style:"display: none;"},r),n.addEventListener("click",function(){return o.click()}),o.addEventListener("change",function(){return ev(function(){var e,t;return eg(this,function(r){switch(r.label){case 0:if(!(e=o.files&&o.files[0]))return[2];r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.importArchive(e)];case 2:return r.sent(),this.log("Import complete"),[3,5];case 3:return console.error(t=r.sent()),alert("Import failed: ".concat(t.message||t)),[3,5];case 4:return o.value="",[7];case 5:return[2]}})}).call(e)})),[2]})}).call(this)}},{key:"fileClerk",get:function(){var e=this._targetSelector||"#file_clerk";return document.querySelector(e)}},{key:"exportArchive",value:function(){return ev(function(){var e,t,r,n,o,i;return eg(this,function(a){switch(a.label){case 0:if(e=this,!(t=this.fileClerk)||"function"!=typeof t.listFiles)throw Error("File Clerk not found or not ready");return[4,t.listFiles()];case 1:return r=a.sent(),n={version:1,generatedAt:new Date().toISOString(),files:r.map(function(t){return{id:t.id,filename:t.filename,metadata:t.metadata,mimeType:e.parseMimeFromDataUrl(t.contents)||void 0}})},[4,Promise.all(r.map(function(t){return ev(function(){var e,r;return eg(this,function(n){switch(n.label){case 0:return[4,this.dataUrlToBlob(t.contents)];case 1:return e=n.sent(),r=t.filename||"file",[2,{name:"files/".concat(t.id,"/").concat(r),input:e,lastModified:new Date}]}})}).call(e)}))];case 2:return(o=a.sent()).push({name:"manifest.json",input:new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),lastModified:new Date}),[4,(function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"Content-Type":"application/zip","Content-Disposition":"attachment"};return("bigint"==((t=r.length)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)||Number.isInteger(r.length))&&r.length>0&&(n["Content-Length"]=String(r.length)),r.metadata&&(n["Content-Length"]=String(function(e){var t=BigInt(22),r=0n,n=0,o=!0,i=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=u.value;if(!s.i)throw Error("Every file must have a non-empty name.");if(void 0===s.o)throw Error('Missing size for file "'.concat((new TextDecoder).decode(s.i),'".'));var l=s.o>=4294967295n,f=r>=4294967295n;r+=BigInt(46+s.i.length+(l&&8))+s.o,t+=BigInt(s.i.length+46+(12*f|28*l)),n||(n=l)}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return(n||r>=4294967295n)&&(t+=BigInt(76)),t+r}(function(e){var t,r,n,o,i,a,u;return Y(this,function(c){switch(c.label){case 0:t=!0,r=!1,n=void 0,c.label=1;case 1:c.trys.push([1,6,7,8]),o=e[Symbol.iterator](),c.label=2;case 2:if(t=(i=o.next()).done)return[3,5];return a=i.value,[4,en.apply(void 0,G(ed(a)[0]))];case 3:c.sent(),c.label=4;case 4:return t=!0,[3,2];case 5:return[3,8];case 6:return u=c.sent(),r=!0,n=u,[3,8];case 7:try{t||null==o.return||o.return()}finally{if(r)throw n}return[7];case 8:return[2]}})}(r.metadata)))),new Response(function(e){var t,r,n,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=(n={next:function(){return z(function(){var e,t,n,o;return Y(this,function(i){switch(i.label){case 0:return[4,r.next()];case 1:if((e=i.sent()).done)return[2,e];return n=(t=V(ed(e.value),2))[0],o=t[1],[2,{done:0,value:Object.assign(et.apply(void 0,G(o)),en.apply(void 0,G(n)))}]}})})()},throw:null==(t=(r=e[Symbol.iterator in e?Symbol.iterator:Symbol.asyncIterator]()).throw)?void 0:t.bind(r)},i=function(){return this},(o=Symbol.asyncIterator)in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,n);return er(J(function(){var e,t,r,n,o,i,c,s,l,f,d,h,p,v,y,b,m,g,w,_,S,E,O,k;return Y(this,function(x){var I,j,A,F,R,T,P,B,L,U,N;switch(x.label){case 0:e=[],t=0n,r=0n,n=0,o=!1,i=!1,x.label=1;case 1:x.trys.push([1,11,12,17]),s=D(u),x.label=2;case 2:return[4,H(s.next())];case 3:if(!(o=!(l=x.sent()).done))return[3,10];return I=f=l.value,j=a.buffersAreUTF8,A=I.i,d=8*(!I.u||(null!=j?j:function(e){try{ef.decode(e)}catch(e){return 0}return 1}(A))),[4,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=X(30);return r.setUint32(0,0x504b0304),r.setUint32(4,0x2d000800|t),el(e.t,r,10),r.setUint16(26,e.i.length,1),Q(r)}(f,d)];case 4:return x.sent(),[4,new Uint8Array(f.i)];case 5:if(x.sent(),!f.isFile)return[3,7];return[5,function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(e){var t={},r=!1;function n(t,n){return r=!0,{done:!1,value:new q(n=new Promise(function(r){r(e[t](n))}),1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}(D((F=f,J(function(){var e,t,r,n;return Y(this,function(o){switch(o.label){case 0:if(!("then"in(e=F.bytes)))return[3,2];return[4,H(e)];case 1:e=o.sent(),o.label=2;case 2:if(!W(e,Uint8Array))return[3,4];return[4,e];case 3:return o.sent(),F.l=es(e,0),F.o=BigInt(e.length),[3,9];case 4:F.o=0n,t=e.getReader(),o.label=5;case 5:return[4,H(t.read())];case 6:if(n=(r=o.sent()).value,r.done)return[3,9];return F.l=es(n,F.l),F.o+=BigInt(n.length),[4,n];case 7:o.sent(),o.label=8;case 8:return[3,5];case 9:return[2]}})})()))))];case 6:x.sent(),x.label=7;case 7:return h=f.o>=4294967295n,p=12*(t>=4294967295n)|28*h,[4,(R=f,(P=X(16+8*!!(T=h))).setUint32(0,0x504b0708),P.setUint32(4,R.isFile?R.l:0,1),T?(P.setBigUint64(8,R.o,1),P.setBigUint64(16,R.o,1)):(P.setUint32(8,Z(R.o),1),P.setUint32(12,Z(R.o),1)),Q(P))];case 8:x.sent(),e.push(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=X(46);return o.setUint32(0,0x504b0102),o.setUint32(4,0x2d032d00),o.setUint16(8,2048|r),el(e.t,o,12),o.setUint32(16,e.isFile?e.l:0,1),o.setUint32(20,Z(e.o),1),o.setUint32(24,Z(e.o),1),o.setUint16(28,e.i.length,1),o.setUint16(30,n,1),o.setUint16(40,e.mode|(e.isFile?32768:16384),1),o.setUint32(42,Z(t),1),Q(o)}(f,t,d,p)),e.push(f.i),p&&e.push((B=f,L=t,(N=X(U=p)).setUint16(0,1,1),N.setUint16(2,U-4,1),16&U&&(N.setBigUint64(4,B.o,1),N.setBigUint64(12,B.o,1)),N.setBigUint64(U-8,L,1),Q(N))),h&&(t+=8n),r++,t+=BigInt(46+f.i.length)+f.o,n||(n=h),x.label=9;case 9:return o=!1,[3,2];case 10:return[3,17];case 11:return v=x.sent(),i=!0,c=v,[3,17];case 12:if(x.trys.push([12,,15,16]),!(o&&null!=s.return))return[3,14];return[4,H(s.return())];case 13:x.sent(),x.label=14;case 14:return[3,16];case 15:if(i)throw c;return[7];case 16:return[7];case 17:y=0n,b=!0,m=!1,g=void 0,x.label=18;case 18:x.trys.push([18,23,24,25]),w=e[Symbol.iterator](),x.label=19;case 19:if(b=(_=w.next()).done)return[3,22];return[4,S=_.value];case 20:x.sent(),y+=BigInt(S.length),x.label=21;case 21:return b=!0,[3,19];case 22:return[3,25];case 23:return E=x.sent(),m=!0,g=E,[3,25];case 24:try{b||null==w.return||w.return()}finally{if(m)throw g}return[7];case 25:if(!(n||t>=4294967295n))return[3,27];return(O=X(76)).setUint32(0,0x504b0606),O.setBigUint64(4,BigInt(44),1),O.setUint32(12,0x2d032d00),O.setBigUint64(24,r,1),O.setBigUint64(32,r,1),O.setBigUint64(40,y,1),O.setBigUint64(48,t,1),O.setUint32(56,0x504b0607),O.setBigUint64(64,t+y,1),O.setUint32(72,1,1),[4,Q(O)];case 26:x.sent(),x.label=27;case 27:return(k=X(22)).setUint32(0,0x504b0506),k.setUint16(8,ee(r),1),k.setUint16(10,ee(r),1),k.setUint32(12,Z(y),1),k.setUint32(16,Z(t),1),[4,Q(k)];case 28:return x.sent(),[2]}})})(),u)}(e,r),{headers:n})})(o).blob()];case 3:return i=a.sent(),this.triggerDownload(i,"file-clerk-archive-".concat(this.timestamp(),".zip")),[2]}})}).call(this)}},{key:"importArchive",value:function(e){return ev(function(){var t,r,n,o,i,a,u,c,s,l,f,d,h,p,v,y,b,m,g,w,_,S,E,O,k,x,I,j,A;return eg(this,function(F){switch(F.label){case 0:if(!(t=this.fileClerk)||"function"!=typeof t.saveFile)throw Error("File Clerk not found or not ready");return[4,(0,eh.$1)(e)];case 1:if(n=(r=F.sent().entries)["manifest.json"],o=null,!n)return[3,3];return[4,n.text()];case 2:o=JSON.parse(F.sent()),F.label=3;case 3:if(!(o&&Array.isArray(o.files)))return[3,14];i=!0,a=!1,u=void 0,F.label=4;case 4:F.trys.push([4,11,12,13]),c=o.files[Symbol.iterator](),F.label=5;case 5:if(i=(s=c.next()).done)return[3,10];if(l=s.value,!(d=r[f="files/".concat(l.id,"/").concat(l.filename||"file")]))return console.warn("Missing entry in archive: ".concat(f)),[3,9];return[4,d.blob()];case 6:return h=F.sent(),[4,this.blobToDataUrl(h)];case 7:return p=F.sent(),v=this.ensureDataUrlMime(p,l.mimeType),[4,t.saveFile(l.filename,v,l.metadata)];case 8:F.sent(),F.label=9;case 9:return i=!0,[3,5];case 10:return[3,13];case 11:return y=F.sent(),a=!0,u=y,[3,13];case 12:try{i||null==c.return||c.return()}finally{if(a)throw u}return[7];case 13:return[3,24];case 14:b=Object.keys(r).filter(function(e){return e.startsWith("files/")&&!e.endsWith("/")}),m=!0,g=!1,w=void 0,F.label=15;case 15:F.trys.push([15,22,23,24]),_=b[Symbol.iterator](),F.label=16;case 16:if(m=(S=_.next()).done)return[3,21];return O=r[E=S.value],k=E.split("/").slice(-1)[0]||"file",[4,O.blob()];case 17:return x=F.sent(),[4,this.blobToDataUrl(x)];case 18:return I=F.sent(),j=this.guessMimeFromFilename(k),A=this.ensureDataUrlMime(I,j),[4,t.saveFile(k,A,{})];case 19:F.sent(),F.label=20;case 20:return m=!0,[3,16];case 21:return[3,24];case 22:return y=F.sent(),g=!0,w=y,[3,24];case 23:try{m||null==_.return||_.return()}finally{if(g)throw w}return[7];case 24:if(!(t.hasAttribute&&t.hasAttribute("verbose")&&"function"==typeof t.renderFileList))return[3,26];return[4,t.renderFileList()];case 25:F.sent(),F.label=26;case 26:return[2]}})}).call(this)}},{key:"dataUrlToBlob",value:function(e){return ev(function(){return eg(this,function(t){switch(t.label){case 0:return[4,fetch(e)];case 1:return[4,t.sent().blob()];case 2:return[2,t.sent()]}})})()}},{key:"blobToDataUrl",value:function(e){return ev(function(){return eg(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,r){var n=new FileReader;n.onload=function(){return t(n.result)},n.onerror=r,n.readAsDataURL(e)})];case 1:return[2,t.sent()]}})})()}},{key:"parseMimeFromDataUrl",value:function(e){var t=/^data:([^;]+);/i.exec(e||"");return t?t[1]:""}},{key:"ensureDataUrlMime",value:function(e,t){if(!t)return e;var r=this.parseMimeFromDataUrl(e);return r&&"application/octet-stream"!==r?e:e.replace(/^data:[^;]*;base64,/,"data:".concat(t,";base64,"))}},{key:"guessMimeFromFilename",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(e.split(".").pop().toLowerCase()){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";case"webp":return"image/webp";case"mp4":return"video/mp4";case"mp3":return"audio/mpeg";case"wav":return"audio/wav";case"pdf":return"application/pdf";case"txt":return"text/plain";case"json":return"application/json";default:return""}}},{key:"triggerDownload",value:function(e,t){var r=URL.createObjectURL(e),n=this.create("a",{href:r,download:t,style:"display: none;"},document.body);n.click(),n.remove(),URL.revokeObjectURL(r)}},{key:"timestamp",value:function(){var e=new Date,t=function(e){return String(e).padStart(2,"0")};return"".concat(e.getFullYear(),"-").concat(t(e.getMonth()+1),"-").concat(t(e.getDate()),"_").concat(t(e.getHours()),"-").concat(t(e.getMinutes()),"-").concat(t(e.getSeconds()))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(d);function e_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eS(e){function t(e){if(Object(e)!==e)return Promise.reject(TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return(eS=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new eS(e)}function eE(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){r(e);return}u.done?t(c):Promise.resolve(c).then(n,o)}function eO(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){eE(i,n,o,a,u,"next",e)}function u(e){eE(i,n,o,a,u,"throw",e)}a(void 0)})}}customElements.define("file-archive",ew);function ek(e){return(ek=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ex(e,t){return(ex=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,u=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(u)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e_(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ej(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ej=function(){return!!e})()}function eA(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var s=[u,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var eF=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=ek(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,ej()?Reflect.construct(e,t||[],ek(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ex(r,e),t=[{key:"initialize",value:function(){return eO(function(){return eA(this,function(e){return this.log("Initializing file system component"),this.directoryHandle=null,this.fileHandles=new Map,this.autoSaveEnabled=!1,this.autoSaveDelay=2e3,this.autoSaveTimeouts=new Map,this.checkApiSupport(),[2]})}).call(this)}},{key:"checkApiSupport",value:function(){var e="showOpenFilePicker"in window&&"showSaveFilePicker"in window&&"showDirectoryPicker"in window;return e||this.dispatchError("FILE_SYSTEM_API_NOT_SUPPORTED","File System API is not supported in this browser. Please use Chrome/Edge 86+, Firefox requires enabling dom.fs.enabled in about:config. Safari does not currently support this API. The File System API also requires HTTPS or localhost."),window.isSecureContext||this.dispatchError("INSECURE_CONTEXT","File System API requires a secure context (HTTPS or localhost)."),e}},{key:"pickDirectory",value:function(){return eO(function(){var e,t;return eA(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),!this.checkApiSupport())return[2];return e=this,[4,window.showDirectoryPicker({mode:"readwrite"})];case 1:return e.directoryHandle=r.sent(),this.log("Directory selected: ".concat(this.directoryHandle.name)),this.event("directory-selected",{handle:this.directoryHandle}),[2,this.directoryHandle];case 2:return t=r.sent(),this.handleError("DIRECTORY_PICKER_ERROR",t),[3,3];case 3:return[2]}})}).call(this)}},{key:"pickFile",value:function(){return eO(function(){var e,t,r,n,o;return eA(this,function(i){switch(i.label){case 0:if(i.trys.push([0,4,,5]),!this.checkApiSupport())return[2];return[4,window.showOpenFilePicker({multiple:!1})];case 1:return[4,(e=eI.apply(void 0,[i.sent(),1])[0]).getFile()];case 2:return[4,(t=i.sent()).text()];case 3:return r=i.sent(),n={handle:e,file:t,content:r,name:t.name,path:e.name},this.event("file-opened",n),this.log("File opened: ".concat(t.name)),[2,n];case 4:return o=i.sent(),this.handleError("FILE_PICKER_ERROR",o),[3,5];case 5:return[2]}})}).call(this)}},{key:"saveFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return eO(function(){var r,n,o;return eA(this,function(i){switch(i.label){case 0:if(i.trys.push([0,3,,4]),!this.checkApiSupport())return[2];return r={},t&&(r.suggestedName=t),[4,window.showSaveFilePicker(r)];case 1:return n=i.sent(),[4,this.writeToFile(n,e)];case 2:return i.sent(),this.log("File saved: ".concat(n.name)),this.event("file-saved",{handle:n,content:e}),[2,n];case 3:return o=i.sent(),this.handleError("FILE_SAVE_ERROR",o),[3,4];case 4:return[2]}})}).call(this)}},{key:"writeToFile",value:function(e,t){return eO(function(){var r;return eA(this,function(n){switch(n.label){case 0:return[4,e.createWritable()];case 1:return[4,(r=n.sent()).write(t)];case 2:return n.sent(),[4,r.close()];case 3:return n.sent(),[2]}})})()}},{key:"autoSave",value:function(e,t){return eO(function(){var r,n,o;return eA(this,function(i){return r=this,this.autoSaveEnabled&&e&&(n=e.name,this.autoSaveTimeouts.has(n)&&clearTimeout(this.autoSaveTimeouts.get(n)),o=setTimeout(function(){return eO(function(){var r;return eA(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.writeToFile(e,t)];case 1:return o.sent(),this.log("Auto-saved: ".concat(e.name)),this.event("file-auto-saved",{handle:e,content:t}),this.autoSaveTimeouts.delete(n),[3,3];case 2:return r=o.sent(),this.handleError("AUTO_SAVE_ERROR",r),[3,3];case 3:return[2]}})}).call(r)},this.autoSaveDelay),this.autoSaveTimeouts.set(n,o)),[2]})}).call(this)}},{key:"listFiles",value:function(){return eO(function(){var e,t,r,n,o,i,a,u,c,s,l,f;return eA(this,function(d){switch(d.label){case 0:if(!this.directoryHandle)return this.log("No directory selected"),[2,[]];d.label=1;case 1:d.trys.push([1,15,,16]),e=[],t=!1,r=!1,d.label=2;case 2:d.trys.push([2,8,9,14]),o=function(e){var t,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new eS(t.call(e));r="@@asyncIterator",n="@@iterator"}throw TypeError("Object is not async iterable")}(this.directoryHandle.entries()),d.label=3;case 3:return[4,o.next()];case 4:if(!(t=!(i=d.sent()).done))return[3,7];if(u=(a=eI(i.value,2))[0],"file"!==(c=a[1]).kind)return[3,6];return[4,c.getFile()];case 5:s=d.sent(),e.push({name:u,handle:c,size:s.size,lastModified:new Date(s.lastModified),type:s.type}),d.label=6;case 6:return t=!1,[3,3];case 7:return[3,14];case 8:return l=d.sent(),r=!0,n=l,[3,14];case 9:if(d.trys.push([9,,12,13]),!(t&&null!=o.return))return[3,11];return[4,o.return()];case 10:d.sent(),d.label=11;case 11:return[3,13];case 12:if(r)throw n;return[7];case 13:return[7];case 14:return this.event("files-listed",{files:e}),[2,e];case 15:return f=d.sent(),this.handleError("LIST_FILES_ERROR",f),[2,[]];case 16:return[2]}})}).call(this)}},{key:"readFile",value:function(e){return eO(function(){var t,r,n,o;return eA(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,e.getFile()];case 1:return[4,(t=i.sent()).text()];case 2:return r=i.sent(),n={handle:e,file:t,content:r,name:t.name},this.event("file-read",n),[2,n];case 3:return o=i.sent(),this.handleError("FILE_READ_ERROR",o),[3,4];case 4:return[2]}})}).call(this)}},{key:"deleteFile",value:function(e){return eO(function(){var t;return eA(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),!this.directoryHandle)throw Error("No directory selected");return[4,this.directoryHandle.removeEntry(e.name)];case 1:return r.sent(),this.log("File deleted: ".concat(e.name)),this.event("file-deleted",{handle:e}),[3,3];case 2:return t=r.sent(),this.handleError("FILE_DELETE_ERROR",t),[3,3];case 3:return[2]}})}).call(this)}},{key:"handleError",value:function(e,t){var r="";switch(e){case"FILE_SYSTEM_API_NOT_SUPPORTED":case"INSECURE_CONTEXT":r=t;break;case"DIRECTORY_PICKER_ERROR":r="AbortError"===t.name?"Directory selection cancelled":"Failed to select directory: ".concat(t.message);break;case"FILE_PICKER_ERROR":r="AbortError"===t.name?"File selection cancelled":"Failed to open file: ".concat(t.message);break;case"FILE_SAVE_ERROR":r="AbortError"===t.name?"File save cancelled":"Failed to save file: ".concat(t.message);break;case"AUTO_SAVE_ERROR":r="Auto-save failed: ".concat(t.message);break;case"LIST_FILES_ERROR":r="Failed to list files: ".concat(t.message);break;case"FILE_READ_ERROR":r="Failed to read file: ".concat(t.message);break;case"FILE_DELETE_ERROR":r="Failed to delete file: ".concat(t.message);break;default:r="Unknown error: ".concat(t.message)}this.log("Error: ".concat(r)),this.dispatchError(e,r,t)}},{key:"dispatchError",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.event("file-system-error",{type:e,message:t,originalError:r})}},{key:"setAutoSaveDelay",value:function(e){this.autoSaveDelay=e}},{key:"getDirectoryHandle",value:function(){return this.directoryHandle}},{key:"isApiSupported",value:function(){return this.checkApiSupport()}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(d);function eR(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){r(e);return}u.done?t(c):Promise.resolve(c).then(n,o)}function eT(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){eR(i,n,o,a,u,"next",e)}function u(e){eR(i,n,o,a,u,"throw",e)}a(void 0)})}}customElements.define("file-system",eF);function eP(e){return(eP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eB(e,t){return(eB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eL=function(){return!!e})()}function eU(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var s=[u,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var eN=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=eP(e),function(e,t){var r;if(t&&("object"==((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,eL()?Reflect.construct(e,t||[],eP(this).constructor):e.apply(this,t))}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&eB(r,e),t=[{key:"initialize",value:function(){return eT(function(){return eU(this,function(e){return this.log("Initializing file list component"),this.targetSelector=this.getAttribute("target")||"#file-system",this.render(),this.setupFileSystemListeners(),[2]})}).call(this)}},{key:"fileSystem",get:function(){return document.querySelector(this.targetSelector)}},{key:"render",value:function(){this.innerHTML="",this.fileListUL=this.create("ul",{class:"file-list",style:"list-style: none; padding: 0; margin: 0; border: 1px solid #ddd; border-radius: 4px; max-height: 300px; overflow-y: auto;"})}},{key:"setupFileSystemListeners",value:function(){var e=this,t=this.fileSystem;t&&(t.addEventListener("directory-selected",function(){return e.refresh()}),t.addEventListener("file-saved",function(){return e.refresh()}),t.addEventListener("file-deleted",function(){return e.refresh()}))}},{key:"refresh",value:function(){return eT(function(){var e,t;return eU(this,function(r){switch(r.label){case 0:if(!(e=this.fileSystem)||"function"!=typeof e.listFiles)return this.displayMessage("File system not available"),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.listFiles()];case 2:return t=r.sent(),this.displayFiles(t||[]),[3,4];case 3:return console.error("Error refreshing file list:",r.sent()),this.displayMessage("Error loading files"),[3,4];case 4:return[2]}})}).call(this)}},{key:"displayFiles",value:function(e){var t=this;(this.fileListUL.innerHTML="",0===e.length)?this.displayMessage("No files found"):e.forEach(function(e){var r=t.create("li",{class:"file-item",style:"padding: 12px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; cursor: pointer;"},t.fileListUL);r.addEventListener("mouseenter",function(){r.style.backgroundColor="#f5f5f5"}),r.addEventListener("mouseleave",function(){r.style.backgroundColor=""});var n=t.create("div",{class:"file-info",style:"flex-grow: 1;"},r);t.create("div",{class:"file-name",content:e.name,style:"font-weight: bold; margin-bottom: 4px;"},n),t.create("div",{class:"file-details",content:"".concat(t.formatFileSize(e.size),"  ").concat(t.formatDate(e.lastModified)),style:"font-size: 0.8em; color: #666;"},n);var o=t.create("div",{class:"file-actions",style:"display: flex; gap: 8px;"},r),i=t.create("button",{class:"read-btn",content:"\uD83D\uDCC2",title:"Open file",style:"padding: 8px; font-size: 1.2em; border: 1px solid #007bff; border-radius: 4px; background: #007bff; color: white; cursor: pointer;"},o),a=t.create("button",{class:"delete-btn",content:"\uD83D\uDDD1",title:"Delete file",style:"padding: 8px; font-size: 1.2em; border: 1px solid #dc3545; border-radius: 4px; background: #dc3545; color: white; cursor: pointer;"},o);i.addEventListener("click",function(r){r.stopPropagation(),t.handleFileAction("read",e)}),a.addEventListener("click",function(r){r.stopPropagation(),t.handleFileAction("delete",e)}),r.addEventListener("click",function(){t.handleFileSelection(e)})})}},{key:"displayMessage",value:function(e){this.fileListUL.innerHTML="",this.create("li",{class:"message-item",content:e,style:"padding: 20px; text-align: center; color: #666; font-style: italic;"},this.fileListUL)}},{key:"handleFileAction",value:function(e,t){return eT(function(){var r,n;return eU(this,function(o){switch(o.label){case 0:if(!(r=this.fileSystem))return[2];o.label=1;case 1:switch(o.trys.push([1,9,,10]),e){case"read":return[3,2];case"delete":return[3,5]}return[3,8];case 2:if("function"!=typeof r.readFile)return[3,4];return[4,r.readFile(t.handle)];case 3:o.sent(),o.label=4;case 4:return[3,8];case 5:if(!confirm('Are you sure you want to delete "'.concat(t.name,'"?'))||"function"!=typeof r.deleteFile)return[3,7];return[4,r.deleteFile(t.handle)];case 6:o.sent(),o.label=7;case 7:return[3,8];case 8:return this.event("file-action",{action:e,file:t}),[3,10];case 9:return n=o.sent(),console.error("Error performing ".concat(e," on file:"),n),[3,10];case 10:return[2]}})}).call(this)}},{key:"handleFileSelection",value:function(e){this.event("file-selected",{file:e})}},{key:"formatFileSize",value:function(e){if(0===e)return"0 B";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(1))+" "+["B","KB","MB","GB"][t]}},{key:"formatDate",value:function(e){return e?e.toLocaleString():"Unknown"}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(d);customElements.define("file-list",eN);var eD=r(72),eM=r.n(eD),eC=r(825),ez=r.n(eC),eH=r(659),eW=r.n(eH),eq=r(56),eV=r.n(eq),eG=r(540),eK=r.n(eG),eJ=r(113),eY=r.n(eJ),eX=r(821),eQ={};eQ.styleTagTransform=eY(),eQ.setAttributes=eV(),eQ.insert=eW().bind(null,"head"),eQ.domAPI=ez(),eQ.insertStyleElement=eK(),eM()(eX.A,eQ),eX.A&&eX.A.locals&&eX.A.locals})()})();